define(function(){return function(locale){var aux,unicodeLanguageId,subtags=[];locale=locale.replace(/_/,"-");aux=locale.split("-u-");if(aux[1]){aux[1]=aux[1].split("-t-");locale=aux[0]+(aux[1][1]?"-t-"+aux[1][1]:"");subtags[4]=aux[1][0]}unicodeLanguageId=locale.split("-t-")[0];aux=unicodeLanguageId.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/);if(aux===null){return["und","Zzzz","ZZ"]}subtags[0]=aux[10]||aux[2]||"und";subtags[1]=aux[4]||"Zzzz";subtags[2]=aux[6]||"ZZ";if(aux[7]&&aux[7].length){subtags[3]=aux[7].slice(1)}return subtags}});